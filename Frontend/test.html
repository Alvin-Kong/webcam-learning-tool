<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <title>Test</title>
</head>
<body style="border: 0; margin: 40px;">
    <script>
        const api_url = 'http://127.0.0.1:5000/';
        
        async function sendData(postImgPath, postTempPath, postTempType, filename) {
            let response = await axios.post(api_url, {
                postImagePath: postImgPath,
                postTemplatePath: postTempPath,
                postTemplateType: postTempType,
                // file: filename
            })
            .catch(function(error) {
                console.log(error);
                alert(error);
            });
            // console.log(response)
            return response;
        }

        
        async function getData() {
            let response = await axios.get(api_url, {
                params: {
                    getTraceData: true,
                    getTemplatePath: true,
                    isOff: false,
                }
            })
            .catch(function(error) {
                console.log(error);
                alert(error);
            });
            // console.log(response)
            return response;
        }


        async function sendInfo() {
            let postImgPath = 'indexTraced3'
            let postTempPath = 'index'
            let postTempType = 0
            let file = '/Users/alvin/webcam-learning-tool/Backend/Tracing/indexTraced3'
            var data = await sendData(postImgPath, postTempPath, 0, file)
            return data
        }


        async function getInfo() {
            var data = await getData()
            return data
        }


        async function postMain() {
            var result = await sendInfo()
            console.log(result)
        }

        async function getMain() {
            var result = await getInfo()
            console.log(result)
        }

        postMain()
        getMain()
    </script>
</body>
</html>